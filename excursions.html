<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium Excursions - Tunisia Lovers Club</title>
    <meta name="description" content="Book exclusive excursions and experiences in Tunisia. From desert safaris to cultural immersions, discover authentic adventures with expert local guides.">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
    
    <!-- Custom Styles -->
    <style>
        :root {
            --sand: #F5E6D3;
            --mediterranean-blue: #1B4B5A;
            --gold: #D4AF37;
            --charcoal: #2C3E50;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--sand);
            color: var(--charcoal);
        }
        
        .font-display {
            font-family: 'Playfair Display', serif;
        }
        
        .font-accent {
            font-family: 'Crimson Text', serif;
        }
        
        .text-gradient {
            background: linear-gradient(135deg, var(--mediterranean-blue), var(--gold));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .nav-blur {
            backdrop-filter: blur(10px);
            background: rgba(245, 230, 211, 0.95);
        }
        
        .excursion-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(245, 230, 211, 0.9));
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 16px;
            transition: all 0.3s ease;
            overflow: hidden;
        }
        
        .excursion-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        
        .filter-btn {
            background: rgba(255, 255, 255, 0.8);
            border: 2px solid rgba(27, 75, 90, 0.2);
            border-radius: 50px;
            padding: 8px 16px;
            font-weight: 500;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .filter-btn:hover {
            border-color: var(--mediterranean-blue);
            background: rgba(27, 75, 90, 0.1);
        }
        
        .filter-btn.active {
            background: var(--mediterranean-blue);
            color: white;
            border-color: var(--mediterranean-blue);
        }
        
        .price-badge {
            background: linear-gradient(135deg, var(--gold), #e6c547);
            color: var(--charcoal);
            padding: 8px 16px;
            border-radius: 50px;
            font-weight: 700;
            font-size: 18px;
        }
        
        .difficulty-easy {
            background: rgba(34, 197, 94, 0.1);
            color: #16a34a;
        }
        
        .difficulty-moderate {
            background: rgba(245, 158, 11, 0.1);
            color: #d97706;
        }
        
        .difficulty-challenging {
            background: rgba(239, 68, 68, 0.1);
            color: #dc2626;
        }
        
        .modal {
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
        }
        
        .modal-content {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.98), rgba(245, 230, 211, 0.95));
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .booking-form {
            background: rgba(255, 255, 255, 0.8);
            border: 2px solid rgba(27, 75, 90, 0.2);
            border-radius: 12px;
            padding: 16px;
            transition: all 0.3s ease;
        }
        
        .booking-form:focus {
            outline: none;
            border-color: var(--mediterranean-blue);
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 0 0 3px rgba(27, 75, 90, 0.1);
        }
        
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 4px;
        }
        
        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 14px;
        }
        
        .calendar-day:hover {
            background: rgba(27, 75, 90, 0.1);
        }
        
        .calendar-day.available {
            background: rgba(34, 197, 94, 0.1);
            color: #16a34a;
        }
        
        .calendar-day.selected {
            background: var(--mediterranean-blue);
            color: white;
        }
        
        .calendar-day.unavailable {
            background: rgba(239, 68, 68, 0.1);
            color: #dc2626;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 z-50 nav-blur border-b border-white/20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center">
                    <a href="index.html" class="text-2xl font-display font-bold text-gradient">Tunisia Lovers Club</a>
                </div>
                
                <!-- Desktop Navigation -->
                <div class="hidden md:flex items-center space-x-8">
                    <a href="index.html" class="text-gray-700 hover:text-blue-600 transition-colors">Home</a>
                    <a href="guides.html" class="text-gray-700 hover:text-blue-600 transition-colors">Guides</a>
                    <a href="map.html" class="text-gray-700 hover:text-blue-600 transition-colors">Map</a>
                    <a href="gallery.html" class="text-gray-700 hover:text-blue-600 transition-colors">Gallery</a>
                    <a href="excursions.html" class="text-blue-600 font-medium hover:text-blue-800 transition-colors">Excursions</a>
                    
                    <!-- Auth Links -->
                    <div class="auth-link">
                        <a href="login.html" class="text-gray-700 hover:text-blue-600 transition-colors">Login</a>
                        <a href="signup.html" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors ml-4">Join Club</a>
                    </div>
                    
                    <!-- Member Links -->
                    <div class="member-link hidden">
                        <a href="dashboard.html" class="text-gray-700 hover:text-blue-600 transition-colors welcome-message">Dashboard</a>
                        <button onclick="logout()" class="text-gray-700 hover:text-red-600 transition-colors ml-4">Logout</button>
                    </div>
                </div>
                
                <!-- Mobile Menu Button -->
                <div class="md:hidden">
                    <button id="mobile-menu-btn" class="text-gray-700 hover:text-blue-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-white/95 backdrop-blur-lg border-t border-white/20">
            <div class="px-4 py-4 space-y-3">
                <a href="index.html" class="block text-gray-700 hover:text-blue-600">Home</a>
                <a href="guides.html" class="block text-gray-700 hover:text-blue-600">Guides</a>
                <a href="map.html" class="block text-gray-700 hover:text-blue-600">Map</a>
                <a href="gallery.html" class="block text-gray-700 hover:text-blue-600">Gallery</a>
                <a href="excursions.html" class="block text-blue-600 font-medium">Excursions</a>
                <div class="auth-link pt-3 border-t border-gray-200">
                    <a href="login.html" class="block text-gray-700 hover:text-blue-600">Login</a>
                    <a href="signup.html" class="block bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors mt-2">Join Club</a>
                </div>
                <div class="member-link hidden pt-3 border-t border-gray-200">
                    <a href="dashboard.html" class="block text-gray-700 hover:text-blue-600 welcome-message">Dashboard</a>
                    <button onclick="logout()" class="block text-gray-700 hover:text-red-600 mt-2">Logout</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="pt-20 pb-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <!-- Header -->
            <div class="text-center mb-12">
                <h1 class="text-4xl md:text-5xl font-display font-bold text-gray-800 mb-6">
                    Premium <span class="text-gradient">Excursions</span>
                </h1>
                <p class="text-xl text-gray-600 max-w-3xl mx-auto font-accent">
                    Embark on unforgettable adventures with our carefully curated excursions. 
                    From desert expeditions to cultural immersions, each experience is designed 
                    to reveal the authentic heart of Tunisia.
                </p>
            </div>

            <!-- Search and Filters -->
            <div class="mb-12">
                <!-- Search Bar -->
                <div class="mb-8">
                    <div class="max-w-2xl mx-auto">
                        <input 
                            type="text" 
                            id="excursion-search" 
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500" 
                            placeholder="Search excursions by name, location, or type..."
                        >
                    </div>
                </div>

                <!-- Filter Buttons -->
                <div class="flex flex-wrap justify-center gap-3 mb-8">
                    <button class="filter-btn active" data-filter="all">All Excursions</button>
                    <button class="filter-btn" data-filter="adventure">Adventure</button>
                    <button class="filter-btn" data-filter="culture">Culture</button>
                    <button class="filter-btn" data-filter="relaxation">Relaxation</button>
                    <button class="filter-btn" data-filter="photography">Photography</button>
                    <button class="filter-btn" data-filter="food">Culinary</button>
                </div>

                <!-- Sort and Price Range -->
                <div class="flex flex-col md:flex-row justify-center items-center gap-4">
                    <select id="excursion-sort" class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500">
                        <option value="featured">Featured</option>
                        <option value="price-low">Price: Low to High</option>
                        <option value="price-high">Price: High to Low</option>
                        <option value="rating">Highest Rated</option>
                        <option value="duration">By Duration</option>
                    </select>
                    
                    <div class="flex items-center space-x-2">
                        <span class="text-gray-600">Price Range:</span>
                        <select id="price-range" class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500">
                            <option value="all">All Prices</option>
                            <option value="0-100">$0 - $100</option>
                            <option value="100-200">$100 - $200</option>
                            <option value="200-500">$200 - $500</option>
                            <option value="500+">$500+</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Excursions Grid -->
            <div class="excursions-grid grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12">
                <!-- Content will be loaded by JavaScript -->
            </div>

            <!-- Load More Button -->
            <div class="text-center">
                <button id="load-more-excursions" class="bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 transition-colors font-semibold">
                    Load More Excursions
                </button>
            </div>
        </div>
    </main>

    <!-- Booking Modal -->
    <div id="booking-modal" class="modal fixed inset-0 z-50 hidden">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="modal-content rounded-2xl shadow-2xl max-w-4xl w-full max-h-screen overflow-y-auto">
                <div class="p-8">
                    <!-- Modal Header -->
                    <div class="flex justify-between items-start mb-6">
                        <div>
                            <h2 id="booking-title" class="text-3xl font-display font-bold text-gray-800"></h2>
                            <p id="booking-subtitle" class="text-gray-600 mt-2"></p>
                        </div>
                        <button onclick="closeBookingModal()" class="text-gray-500 hover:text-gray-700 text-3xl">×</button>
                    </div>

                    <!-- Booking Content -->
                    <div class="grid lg:grid-cols-2 gap-8">
                        <!-- Booking Form -->
                        <div>
                            <h3 class="text-xl font-semibold mb-6">Booking Details</h3>
                            <form id="booking-form">
                                <!-- Personal Information -->
                                <div class="mb-6">
                                    <h4 class="font-semibold mb-4">Personal Information</h4>
                                    <div class="grid md:grid-cols-2 gap-4 mb-4">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">First Name</label>
                                            <input type="text" name="firstName" required class="booking-form w-full">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Last Name</label>
                                            <input type="text" name="lastName" required class="booking-form w-full">
                                        </div>
                                    </div>
                                    <div class="mb-4">
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                                        <input type="email" name="email" required class="booking-form w-full">
                                    </div>
                                    <div class="mb-4">
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Phone</label>
                                        <input type="tel" name="phone" required class="booking-form w-full">
                                    </div>
                                </div>

                                <!-- Date Selection -->
                                <div class="mb-6">
                                    <h4 class="font-semibold mb-4">Select Date</h4>
                                    <div class="booking-form">
                                        <div class="flex justify-between items-center mb-4">
                                            <button type="button" onclick="changeMonth(-1)" class="p-2 hover:bg-gray-100 rounded">
                                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                                                </svg>
                                            </button>
                                            <h5 id="calendar-month" class="font-semibold"></h5>
                                            <button type="button" onclick="changeMonth(1)" class="p-2 hover:bg-gray-100 rounded">
                                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                                                </svg>
                                            </button>
                                        </div>
                                        <div class="calendar-grid mb-2">
                                            <div class="text-center text-xs font-medium text-gray-500 py-2">Sun</div>
                                            <div class="text-center text-xs font-medium text-gray-500 py-2">Mon</div>
                                            <div class="text-center text-xs font-medium text-gray-500 py-2">Tue</div>
                                            <div class="text-center text-xs font-medium text-gray-500 py-2">Wed</div>
                                            <div class="text-center text-xs font-medium text-gray-500 py-2">Thu</div>
                                            <div class="text-center text-xs font-medium text-gray-500 py-2">Fri</div>
                                            <div class="text-center text-xs font-medium text-gray-500 py-2">Sat</div>
                                        </div>
                                        <div id="calendar-days" class="calendar-grid">
                                            <!-- Calendar days will be generated here -->
                                        </div>
                                    </div>
                                </div>

                                <!-- Participants -->
                                <div class="mb-6">
                                    <h4 class="font-semibold mb-4">Participants</h4>
                                    <div class="grid md:grid-cols-3 gap-4">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Adults</label>
                                            <select name="adults" class="booking-form w-full">
                                                <option value="1">1</option>
                                                <option value="2" selected>2</option>
                                                <option value="3">3</option>
                                                <option value="4">4</option>
                                                <option value="5">5</option>
                                                <option value="6">6</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Children</label>
                                            <select name="children" class="booking-form w-full">
                                                <option value="0" selected>0</option>
                                                <option value="1">1</option>
                                                <option value="2">2</option>
                                                <option value="3">3</option>
                                                <option value="4">4</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Infants</label>
                                            <select name="infants" class="booking-form w-full">
                                                <option value="0" selected>0</option>
                                                <option value="1">1</option>
                                                <option value="2">2</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>

                                <!-- Special Requests -->
                                <div class="mb-6">
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Special Requests</label>
                                    <textarea name="requests" rows="3" class="booking-form w-full" placeholder="Any dietary restrictions, accessibility needs, or special requests..."></textarea>
                                </div>

                                <button type="submit" class="w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors font-semibold">
                                    Complete Booking
                                </button>
                            </form>
                        </div>

                        <!-- Booking Summary -->
                        <div>
                            <div class="bg-gray-50 rounded-lg p-6">
                                <h3 class="text-xl font-semibold mb-6">Booking Summary</h3>
                                <div id="booking-summary">
                                    <!-- Summary will be loaded here -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <div class="text-3xl font-display font-bold text-gradient mb-4">Tunisia Lovers Club</div>
                <p class="text-gray-400 mb-6 font-accent">
                    Discovering Tunisia's hidden treasures, one exclusive experience at a time.
                </p>
                <div class="text-gray-500 text-sm">
                    © 2024 Tunisia Lovers Club. All rights reserved.
                </div>
            </div>
        </div>
    </footer>

    <!-- Main JavaScript -->
    <script src="main.js"></script>
    
    <!-- Excursions Specific JavaScript -->
    <script>
        let excursions = [];
        let filteredExcursions = [];
        let currentExcursion = null;
        let currentMonth = new Date().getMonth();
        let currentYear = new Date().getFullYear();
        let selectedDate = null;

        document.addEventListener('DOMContentLoaded', function() {
            loadExcursions();
            setupFilters();
            setupSearch();
            setupBookingForm();
        });

        function loadExcursions() {
            excursions = [
                {
                    id: 1,
                    title: "Sahara Desert Safari Adventure",
                    description: "Experience the magic of the Sahara with camel riding, desert camping, and traditional Berber hospitality. This 2-day adventure takes you deep into the world's most famous desert.",
                    image: "resources/tunisia-3.jpg",
                    duration: "2 Days",
                    price: 299,
                    originalPrice: 349,
                    rating: 4.8,
                    reviews: 127,
                    category: "adventure",
                    difficulty: "Moderate",
                    groupSize: "8-12 people",
                    includes: ["Camel riding", "Desert camping", "Traditional meals", "Berber music", "Sunrise viewing"],
                    highlights: ["Overnight in desert camp", "Camel trek across dunes", "Traditional Berber dinner", "Star gazing", "Sunrise over Sahara"],
                    featured: true,
                    popular: true
                },
                {
                    id: 2,
                    title: "Cultural Heritage Tour",
                    description: "Explore Tunisia's rich history from Roman ruins to traditional medinas with expert local guides. Discover the layers of civilization that shaped this fascinating country.",
                    image: "resources/tunisia-14.jpg",
                    duration: "Full Day",
                    price: 149,
                    originalPrice: 149,
                    rating: 4.9,
                    reviews: 89,
                    category: "culture",
                    difficulty: "Easy",
                    groupSize: "6-10 people",
                    includes: ["Expert guide", "Transportation", "Entrance fees", "Lunch", "Water"],
                    highlights: ["Dougga Roman ruins", "Traditional lunch", "Local guide expertise", "Historical insights", "Cultural immersion"],
                    featured: true,
                    popular: false
                },
                {
                    id: 3,
                    title: "Mediterranean Coastal Experience",
                    description: "Discover hidden coves, traditional fishing villages, and enjoy fresh seafood by the sea. A perfect blend of relaxation and authentic coastal culture.",
                    image: "resources/tunisia-10.jpg",
                    duration: "Full Day",
                    price: 189,
                    originalPrice: 189,
                    rating: 4.7,
                    reviews: 156,
                    category: "relaxation",
                    difficulty: "Easy",
                    groupSize: "10-15 people",
                    includes: ["Boat trip", "Seafood lunch", "Beach access", "Snorkeling gear", "Transport"],
                    highlights: ["Hidden beaches", "Fresh seafood", "Traditional boats", "Crystal waters", "Coastal villages"],
                    featured: false,
                    popular: true
                },
                {
                    id: 4,
                    title: "Photography Expedition",
                    description: "Capture Tunisia's most photogenic locations with professional guidance. From golden deserts to blue villages, perfect your travel photography skills.",
                    image: "resources/tunisia-9.jpg",
                    duration: "3 Days",
                    price: 449,
                    originalPrice: 499,
                    rating: 4.9,
                    reviews: 73,
                    category: "photography",
                    difficulty: "Moderate",
                    groupSize: "4-8 people",
                    includes: ["Photography guide", "Transport", "Accommodation", "Meals", "Editing session"],
                    highlights: ["Golden hour shoots", "Blue village photography", "Desert landscapes", "Professional tips", "Portfolio review"],
                    featured: true,
                    popular: false
                },
                {
                    id: 5,
                    title: "Culinary Adventure",
                    description: "Taste authentic Tunisian cuisine through cooking classes, market visits, and traditional restaurant experiences. Learn the secrets of North African flavors.",
                    image: "resources/tunisia-1.jpg",
                    duration: "Full Day",
                    price: 169,
                    originalPrice: 169,
                    rating: 4.8,
                    reviews: 94,
                    category: "food",
                    difficulty: "Easy",
                    groupSize: "8-12 people",
                    includes: ["Cooking class", "Market tour", "Lunch", "Recipe cards", "Ingredients"],
                    highlights: ["Hands-on cooking", "Local market tour", "Traditional recipes", "Cultural stories", "Take-home recipes"],
                    featured: false,
                    popular: true
                },
                {
                    id: 6,
                    title: "Star Wars Locations Tour",
                    description: "Visit iconic filming locations from the Star Wars saga in Tunisia. Walk in the footsteps of Luke Skywalker and explore the real Tatooine.",
                    image: "resources/tunisia-5.jpg",
                    duration: "2 Days",
                    price: 279,
                    originalPrice: 279,
                    rating: 4.6,
                    reviews: 201,
                    category: "adventure",
                    difficulty: "Easy",
                    groupSize: "10-16 people",
                    includes: ["Transportation", "Guide", "Accommodation", "Meals", "Location access"],
                    highlights: ["Matmata underground home", "Tataouine sets", "Desert landscapes", "Movie trivia", "Photo opportunities"],
                    featured: false,
                    popular: true
                },
                {
                    id: 7,
                    title: "Wellness & Spa Retreat",
                    description: "Relax and rejuvenate with traditional Tunisian spa treatments, yoga sessions, and meditation in serene natural settings.",
                    image: "resources/tunisia-12.jpg",
                    duration: "3 Days",
                    price: 399,
                    originalPrice: 449,
                    rating: 4.7,
                    reviews: 67,
                    category: "relaxation",
                    difficulty: "Easy",
                    groupSize: "6-12 people",
                    includes: ["Spa treatments", "Yoga sessions", "Meditation", "Healthy meals", "Accommodation"],
                    highlights: ["Traditional hammam", "Yoga at sunrise", "Meditation sessions", "Healthy cuisine", "Peaceful environment"],
                    featured: false,
                    popular: false
                },
                {
                    id: 8,
                    title: "Oasis Discovery Trek",
                    description: "Hike through Tunisia's hidden oases, discovering mountain springs, palm groves, and traditional Berber villages off the beaten path.",
                    image: "resources/tunisia-4.jpg",
                    duration: "Full Day",
                    price: 199,
                    originalPrice: 199,
                    rating: 4.8,
                    reviews: 112,
                    category: "adventure",
                    difficulty: "Challenging",
                    groupSize: "6-10 people",
                    includes: ["Hiking guide", "Transport", "Lunch", "Water", "Safety equipment"],
                    highlights: ["Hidden oases", "Mountain springs", "Traditional villages", "Scenic hiking", "Local encounters"],
                    featured: false,
                    popular: false
                },
                {
                    id: 9,
                    title: "Ancient History Immersion",
                    description: "Deep dive into Tunisia's ancient past with archaeologist guides. Explore Roman ruins, Punic sites, and prehistoric cave art.",
                    image: "resources/tunisia-14.jpg",
                    duration: "4 Days",
                    price: 599,
                    originalPrice: 649,
                    rating: 4.9,
                    reviews: 45,
                    category: "culture",
                    difficulty: "Moderate",
                    groupSize: "8-14 people",
                    includes: ["Archaeologist guide", "Transport", "Accommodation", "Meals", "Site access"],
                    highlights: ["Expert archaeologist guide", "Roman ruins", "Punic history", "Cave art", "Academic insights"],
                    featured: true,
                    popular: false
                },
                {
                    id: 10,
                    title: "Island Hopping Adventure",
                    description: "Explore Tunisia's Mediterranean islands, including Djerba and Kerkennah. Discover unique cultures, pristine beaches, and rich history.",
                    image: "resources/tunisia-10.jpg",
                    duration: "3 Days",
                    price: 379,
                    originalPrice: 379,
                    rating: 4.6,
                    reviews: 89,
                    category: "relaxation",
                    difficulty: "Easy",
                    groupSize: "10-16 people",
                    includes: ["Ferry transport", "Accommodation", "Island tours", "Meals", "Beach access"],
                    highlights: ["Djerba exploration", "Kerkennah islands", "Traditional fishing", "Island cuisine", "Beach relaxation"],
                    featured: false,
                    popular: true
                }
            ];

            filteredExcursions = [...excursions];
            renderExcursions();
        }

        function renderExcursions() {
            const container = document.querySelector('.excursions-grid');
            container.innerHTML = filteredExcursions.map(excursion => `
                <div class="excursion-card">
                    <div class="relative">
                        <img src="${excursion.image}" alt="${excursion.title}" class="w-full h-48 object-cover">
                        ${excursion.featured ? '<div class="absolute top-4 left-4 bg-blue-600 text-white px-3 py-1 rounded-full text-xs font-semibold">Featured</div>' : ''}
                        ${excursion.popular ? '<div class="absolute top-4 right-4 bg-red-500 text-white px-3 py-1 rounded-full text-xs font-semibold">Popular</div>' : ''}
                        ${excursion.originalPrice > excursion.price ? `<div class="absolute bottom-4 left-4 bg-red-500 text-white px-2 py-1 rounded text-xs font-semibold">Save $${excursion.originalPrice - excursion.price}</div>` : ''}
                    </div>
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-3">
                            <span class="bg-green-100 text-green-800 px-2 py-1 rounded text-xs font-medium capitalize">${excursion.category}</span>
                            <button class="favorite-btn text-2xl ${isFavorited(excursion.id, 'excursion') ? 'favorited' : ''}" 
                                    data-id="${excursion.id}" data-type="excursion">
                                ${isFavorited(excursion.id, 'excursion') ? '♥' : '♡'}
                            </button>
                        </div>
                        <h3 class="text-xl font-display font-semibold mb-2 text-gray-800">${excursion.title}</h3>
                        <p class="text-gray-600 mb-4 text-sm leading-relaxed">${excursion.description}</p>
                        
                        <div class="space-y-2 text-sm text-gray-500 mb-4">
                            <div class="flex justify-between">
                                <span>Duration:</span>
                                <span>${excursion.duration}</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Difficulty:</span>
                                <span class="difficulty-${excursion.difficulty.toLowerCase()} px-2 py-1 rounded text-xs font-medium">${excursion.difficulty}</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Group Size:</span>
                                <span>${excursion.groupSize}</span>
                            </div>
                        </div>

                        <div class="flex justify-between items-center mb-4">
                            <div class="flex items-center">
                                <span class="text-yellow-500 mr-1">★</span>
                                <span class="text-sm text-gray-600">${excursion.rating} (${excursion.reviews} reviews)</span>
                            </div>
                            <div class="text-right">
                                ${excursion.originalPrice > excursion.price ? `<span class="text-sm text-gray-500 line-through">$${excursion.originalPrice}</span>` : ''}
                                <div class="price-badge text-lg">$${excursion.price}</div>
                            </div>
                        </div>

                        <div class="flex space-x-2">
                            <button onclick="openBookingModal(${excursion.id})" 
                                    class="flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors font-semibold">
                                Book Now
                            </button>
                            <button onclick="showExcursionDetails(${excursion.id})" 
                                    class="flex-1 border border-blue-600 text-blue-600 py-2 px-4 rounded-lg hover:bg-blue-50 transition-colors font-semibold">
                                Details
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function setupFilters() {
            // Category filters
            const filterBtns = document.querySelectorAll('.filter-btn');
            filterBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    filterBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');

                    const filter = this.dataset.filter;
                    if (filter === 'all') {
                        filteredExcursions = [...excursions];
                    } else {
                        filteredExcursions = excursions.filter(excursion => excursion.category === filter);
                    }
                    
                    applyFilters();
                });
            });

            // Sort
            document.getElementById('excursion-sort').addEventListener('change', function() {
                const sortBy = this.value;
                
                switch(sortBy) {
                    case 'price-low':
                        filteredExcursions.sort((a, b) => a.price - b.price);
                        break;
                    case 'price-high':
                        filteredExcursions.sort((a, b) => b.price - a.price);
                        break;
                    case 'rating':
                        filteredExcursions.sort((a, b) => b.rating - a.rating);
                        break;
                    case 'duration':
                        const durationOrder = { 'Half Day': 1, 'Full Day': 2, '2 Days': 3, '3 Days': 4, '4 Days': 5 };
                        filteredExcursions.sort((a, b) => durationOrder[a.duration] - durationOrder[b.duration]);
                        break;
                    default:
                        filteredExcursions = excursions.filter(e => filteredExcursions.includes(e));
                }
                
                renderExcursions();
            });

            // Price range
            document.getElementById('price-range').addEventListener('change', applyFilters);
        }

        function applyFilters() {
            const priceRange = document.getElementById('price-range').value;
            
            if (priceRange === 'all') {
                // Already filtered by category, just render
            } else {
                const [min, max] = priceRange.split('-').map(p => p === '+' ? Infinity : parseInt(p));
                filteredExcursions = filteredExcursions.filter(excursion => {
                    if (max === Infinity) return excursion.price >= min;
                    return excursion.price >= min && excursion.price <= max;
                });
            }
            
            renderExcursions();
        }

        function setupSearch() {
            document.getElementById('excursion-search').addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                
                filteredExcursions = excursions.filter(excursion => 
                    excursion.title.toLowerCase().includes(searchTerm) ||
                    excursion.description.toLowerCase().includes(searchTerm) ||
                    excursion.category.toLowerCase().includes(searchTerm)
                );
                
                applyFilters();
            });
        }

        function openBookingModal(excursionId) {
            currentExcursion = excursions.find(e => e.id === excursionId);
            if (!currentExcursion) return;

            const modal = document.getElementById('booking-modal');
            const title = document.getElementById('booking-title');
            const subtitle = document.getElementById('booking-subtitle');
            const summary = document.getElementById('booking-summary');

            title.textContent = currentExcursion.title;
            subtitle.textContent = `${currentExcursion.duration} • ${currentExcursion.difficulty} • $${currentExcursion.price} per person`;

            // Generate booking summary
            summary.innerHTML = `
                <div class="space-y-4">
                    <div>
                        <h4 class="font-semibold mb-2">What's Included</h4>
                        <ul class="text-sm text-gray-600 space-y-1">
                            ${currentExcursion.includes.map(item => `<li>• ${item}</li>`).join('')}
                        </ul>
                    </div>
                    
                    <div>
                        <h4 class="font-semibold mb-2">Highlights</h4>
                        <ul class="text-sm text-gray-600 space-y-1">
                            ${currentExcursion.highlights.map(item => `<li>• ${item}</li>`).join('')}
                        </ul>
                    </div>
                    
                    <div class="border-t pt-4">
                        <div class="flex justify-between items-center mb-2">
                            <span>Price per person:</span>
                            <span class="font-semibold">$${currentExcursion.price}</span>
                        </div>
                        <div class="flex justify-between items-center mb-2">
                            <span>Duration:</span>
                            <span>${currentExcursion.duration}</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span>Group size:</span>
                            <span>${currentExcursion.groupSize}</span>
                        </div>
                    </div>
                    
                    <div class="border-t pt-4">
                        <div class="flex justify-between items-center text-lg font-semibold">
                            <span>Total:</span>
                            <span id="total-price">$${currentExcursion.price}</span>
                        </div>
                    </div>
                </div>
            `;

            // Generate calendar
            generateCalendar();

            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';

            // Update participants change handler
            document.querySelector('select[name="adults"]').addEventListener('change', updateTotalPrice);
            document.querySelector('select[name="children"]').addEventListener('change', updateTotalPrice);
        }

        function closeBookingModal() {
            const modal = document.getElementById('booking-modal');
            modal.classList.add('hidden');
            document.body.style.overflow = 'auto';
            currentExcursion = null;
            selectedDate = null;
        }

        function generateCalendar() {
            const monthNames = ["January", "February", "March", "April", "May", "June",
                "July", "August", "September", "October", "November", "December"];
            
            document.getElementById('calendar-month').textContent = `${monthNames[currentMonth]} ${currentYear}`;
            
            const firstDay = new Date(currentYear, currentMonth, 1).getDay();
            const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
            
            const calendarDays = document.getElementById('calendar-days');
            calendarDays.innerHTML = '';
            
            // Add empty cells for days before the first day of the month
            for (let i = 0; i < firstDay; i++) {
                const emptyDay = document.createElement('div');
                emptyDay.className = 'calendar-day';
                calendarDays.appendChild(emptyDay);
            }
            
            // Add days of the month
            for (let day = 1; day <= daysInMonth; day++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day';
                dayElement.textContent = day;
                
                // Simulate availability (random for demo)
                const isAvailable = Math.random() > 0.3;
                if (isAvailable) {
                    dayElement.classList.add('available');
                    dayElement.onclick = () => selectDate(day);
                } else {
                    dayElement.classList.add('unavailable');
                }
                
                calendarDays.appendChild(dayElement);
            }
        }

        function changeMonth(direction) {
            currentMonth += direction;
            if (currentMonth > 11) {
                currentMonth = 0;
                currentYear++;
            } else if (currentMonth < 0) {
                currentMonth = 11;
                currentYear--;
            }
            generateCalendar();
        }

        function selectDate(day) {
            // Remove previous selection
            document.querySelectorAll('.calendar-day.selected').forEach(el => {
                el.classList.remove('selected');
                el.classList.add('available');
            });
            
            // Select new date
            event.target.classList.remove('available');
            event.target.classList.add('selected');
            
            selectedDate = new Date(currentYear, currentMonth, day);
        }

        function updateTotalPrice() {
            if (!currentExcursion) return;
            
            const adults = parseInt(document.querySelector('select[name="adults"]').value);
            const children = parseInt(document.querySelector('select[name="children"]').value);
            const childrenPrice = currentExcursion.price * 0.5; // 50% discount for children
            
            const total = (adults * currentExcursion.price) + (children * childrenPrice);
            document.getElementById('total-price').textContent = `$${total}`;
        }

        function setupBookingForm() {
            document.getElementById('booking-form').addEventListener('submit', function(e) {
                e.preventDefault();
                
                if (!selectedDate) {
                    showNotification('Please select a date for your excursion', 'error');
                    return;
                }
                
                const formData = new FormData(this);
                const bookingData = {
                    excursion: currentExcursion.title,
                    date: selectedDate,
                    firstName: formData.get('firstName'),
                    lastName: formData.get('lastName'),
                    email: formData.get('email'),
                    phone: formData.get('phone'),
                    adults: formData.get('adults'),
                    children: formData.get('children'),
                    infants: formData.get('infants'),
                    requests: formData.get('requests')
                };
                
                // Simulate booking
                showNotification('Processing your booking...', 'info');
                
                setTimeout(() => {
                    showNotification('Booking confirmed! You will receive a confirmation email shortly.', 'success');
                    closeBookingModal();
                }, 2000);
            });
        }

        function showExcursionDetails(excursionId) {
            const excursion = excursions.find(e => e.id === excursionId);
            if (!excursion) return;
            
            showNotification(`Showing details for ${excursion.title}`, 'info');
            // In a real app, this would open a detailed modal or navigate to a detail page
        }

        // Close modal when clicking outside
        document.getElementById('booking-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeBookingModal();
            }
        });
    </script>
</body>
</html>